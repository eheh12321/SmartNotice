<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragment/header :: common_header ('관제 메인 페이지')"/>
<body>
<div class="container">
    <hr>
    <div id="authInfo">
        <form action="/logout" method="post">
            <button type="submit" class="btn btn-danger" style="float: right">로그아웃</button>
        </form>
        <b>Authenticated username: </b>
        <span sec:authentication="name"></span> <br>
        <b>Authenticated user role: </b>
        <span sec:authentication="principal.authorities"></span> <br>
        <b>페이지 접근가능 권한: </b>
        <span>SUPER</span>
    </div>
    <hr>
    <h1>관제 메인 페이지</h1>
    <hr>
    <div>
        <h3>최고 관리자 기능</h3>
        <div sec:authorize="hasRole('SUPER')">
            <button type="button" class="btn btn-primary" onclick="location.href='/admin'">관리자 관리</button>
            <button type="button" class="btn btn-primary" onclick="location.href='/towns'">마을 관리</button>
        </div>
    </div>
    <hr>
    <div>
        <h3>마을 관리자 기능</h3>
        <button type="button" class="btn btn-primary" onclick="location.href='/users'">마을 주민 관리</button>
        <button type="button" class="btn btn-primary" onclick="location.href='/supporters'">보호자 관리</button>
    </div>
    <hr>
    <button type="button" class="btn btn-primary" onclick="location.href='/register'">회원가입</button>
    <button type="button" class="btn btn-primary" onclick="location.href='/u'">마을 주민 화면으로</button>
</div>

</body>
</html>